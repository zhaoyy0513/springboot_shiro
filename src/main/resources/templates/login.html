<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script th:src="@{/js/jquery-3.4.1.js}"></script>

</head>
<body>
<div class="form">
    <label for="userName">
        <input type="text" placeholder="用户名" id="userName" name="userName" required="required"/>
    </label>
    <label for="userPwd">
        <input type="password" placeholder="密码" id="userPwd" name="userPwd" required="required"/>
    </label>
    <button onclick="login()">登录</button>
</div>
</body>
<script th:inline="javascript">
    function login() {
        var userName = $("input[name='userName']").val();
        var userPwd = $("input[name='userPwd']").val();
        $.ajax({
            type: "post",
            url: "/login",
            data: {"userName": userName,"userPwd": userPwd},
            dataType: "json",
            success: function (r) {
                if (r.code === 0) {
                    location.href="/index";
                } else {
                    alert(r.msg);
                }
            }
        });
    }
</script>
</html>